---
simulation_campaign: /gpfs/bbp.cscs.ch/project/proj83/scratch/bbp_workflow/c26abad3-0861-4f7d-863c-a42daffd029f/config.json
output: analysis_01_bnac
extraction:
  neuron_classes:
    L1_EXC: { layer: [ 1 ], synapse_class: [ EXC ] }
    L23_EXC: { layer: [ 2, 3 ], synapse_class: [ EXC ] }
    L4_EXC: { layer: [ 4 ], synapse_class: [ EXC ] }
    L5_EXC: { layer: [ 5 ], synapse_class: [ EXC ] }
    L6_EXC: { layer: [ 6 ], synapse_class: [ EXC ] }
    L1_INH: { layer: [ 1 ], synapse_class: [ INH ] }
    L23_INH: { layer: [ 2, 3 ], synapse_class: [ INH ] }
    L4_INH: { layer: [ 4 ], synapse_class: [ INH ] }
    L5_INH: { layer: [ 5 ], synapse_class: [ INH ] }
    L6_INH: { layer: [ 6 ], synapse_class: [ INH ] }
#    ALL_INH: { synapse_class: [ INH ], $limit: null }
#    ALL_EXC: { synapse_class: [ EXC ], $limit: null }
#    ALL: { $limit: null }
  limit: null
  target: hex0
  windows:
    w1: { bounds: [ 2000, 7000 ], window_type: spontaneous }
    w2: { bounds: [ 0, 100 ], initial_offset: 7000, n_trials: 3, trial_steps_value: 1000 }
    w3: { bounds: [ 0, 25 ], initial_offset: 7000, n_trials: 5, trial_steps_label: ts1}
  trial_steps:
    ts1:
      function: blueetl.external.bnac.calculate_trial_step.onset_from_spikes
      initial_offset: 7000
      bounds: [ -50, 25 ]
      pre_window: [ -50, 0 ]
      post_window: [ 0, 25 ]
      smoothing_width: 1.5
      histo_bins_per_ms: 5
      threshold_std_multiple: 4
      ms_post_offset: 1
      fig_paths: []
analysis:
  features:
    neuron_class:
      - function: blueetl.external.bnac.neuron_class.get_initial_spiking_stats
      - function: blueetl.external.bnac.neuron_class.get_histogram_features
    generic:
      function: blueetl.external.bnac.neuron_class.calculate_features
